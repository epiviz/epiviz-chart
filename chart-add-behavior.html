<!-- External Polymer Styles/elements dependency -->
<!--<link rel="import" href="../iron-icons/iron-icons.html">-->
<link rel="import" href="../paper-icon-button/paper-icon-button.html">

<!-- Epiviz element dependency -->
<link rel="import" href="epiviz-add-chart.html">

<script>
    /**
     * `ChartAddBehavior` object manages the `<epiviz-add-chart>` element. 
     * All environment and navigation charts automatically inherit this behavior to add a new chart.
     *
     * @polymerBehavior
    **/
    epiviz.ChartAddBehavior = {

        /**
         * Shows the `<epiviz-add-chart>` element
         */
        _showAddDialog: function() {
        },

        /**
         * Initializes the `<epiviz-add-chart>` element
         */
        _initializeAddDialog: function() {
            var chartContainer = this.$.header;
            var currAddElem = this.$$('epiviz-add-chart');

            if(currAddElem == null) {
                var currAddElem = document.createElement('epiviz-add-chart');
                Polymer.dom(chartContainer).appendChild(currAddElem);
                
                var dataManagerElem = document.querySelector('epiviz-data-source');
                if(dataManagerElem) {
                    Polymer.dom(currAddElem).measurements = dataManagerElem.measurementSet;
                }               
            }
        },

        /**
         * Intilizes chart container DOM element for settings and colors elements.
         */
        _initializeDialogContainer: function() {
        },

        ready: function() {
            this._initializeDialogContainer();
        }
    }
</script>